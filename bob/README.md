# Сервис локального распознавания и синтеза речи (Bob)

В качестве голоса для сервиса, выбран голос помощника Милена.

## Описание голосового ассистента

Список команд, распознаваемых голосовым ассистентом, объявлен в файле `bob/assistant/commands`

Все команды разделены по типу действия:
* Приветствие (`greeting`);
* Прощание (`farewell`);
* Поиск актёров фильма (`search_actor`);
* Поиск режиссёра фильма (`search_director`);
* Поиск сценариста фильма (`search_writer`);
* Поиск описания фильма (`seacrh_film_info`);
* Поиск жанров фильма (`seacrh_film_genres`);
* Поиск рейтинга фильма (`seacrh_film_rating`);

Для каждого действия прописаны примеры слов, используемых в запросе.

## Алгоритм работы поиска

Запрос пользователя разбивается на слова и последовательно, для подстроки запроса, составленной 
из первой части запроса, высчитывается вероятность отнесения фразы к каждому действию.

Среди этих вероятностей выбирается наибольшая и сравнивается с пороговым значением.

Если пороговое значение больше полученной максимальной вероятности, то добавляем следующее слово из запроса, 
и повторяем подсчеты.
Если меньше, то считаем что пользователь запросил именно это действие.

###Рассмотрим на примере 

Будем считать, что пороговое значение вероятности: `0.282`

Запрос пользователя: `кто режиссер фильма Брат`

* Для слова `кто`, наибольшая вероятность отношения к какому то действию: `0.2260766948069491` < `0.282`

* Для подстроки `кто режиссёр`, вероятность отношения к действию search_director:`0.45388246211816546` > `0.282`

Таким образом принимается решение, что пользователь запросил `поиск режиссёра фильма (search_director)`

## Сценарии работы

### Рассказать о фильме

Попросите Милену рассказать про определенный фильм:

* Расскажи про Бриллиантовую руку
* Про что фильм криминальное чтиво
* Расскажи о чём Побег из Шоушенка
* Описание Брата

Милена расскажет короткое описание.

Если Милена уже рассказывает о каком-то фильме, можно задать уточняющий вопрос:
* А про что он?
* А о чём он?
* Расскажи про него
* Прочитай описание

### Назвать сценариста фильма

Если вы хотите узнать сценариста фильма:

* Кто сценарист Форреста Гампа
* Назови сценариста фильма Собачье сердце
* Чей сценарий у фильма форрест гамп
* Кто написал сценарий Брата

Если Милена уже рассказывает о каком-то фильме, можно задать уточняющий вопрос

* А кто его снял?
* А кто режиссер?
* Кто его снимал?
* Кто автор?

### Назвать режиссера фильма

Если вы хотите узнать режиссера фильма:

* Кто режиссёр Форреста Гампа
* Назови режиссера фильма Собачье сердце
* Кто автор Криминального чтива
* Кто снял Брата

Если Милена уже рассказывает о каком-то фильме, можно задать уточняющий вопрос

* А кто его снял?
* А кто режиссер?
* Кто его снимал?
* Кто автор?
   
### Назвать актеров фильма

Если вы хотите узнать актеров определенного фильма:

* Кто сыграл в фильме Криминальное чтиво
* Кто играл в Собачьем сердце
* Какие актеры играли в Побеге из Шоушенка
* Найди актёров фильма Крестный отец
  
Если Милена уже рассказывает о каком-то фильме, можно задать уточняющий вопрос

* А кто там играл?
* А кто актёры?

### Назвать рейтинг фильма

Попросите Милену назвать рейтинг фильма:

* Найди рейтинг Бриллиантовой руки
* Какой рейтинг у фильма Криминальное чтиво
* Скажи рейтинг фильма Побег из Шоушенка
* Рейтинг Брата

Милена назовет рейтинг фильма.

Если Милена уже рассказывает о каком-то фильме, можно задать уточняющий вопрос:
* А какой рейтинг у него?
* Рейтинг
* Скажи рейтинг
* Его рейтинг?
* Найди рейтинг

### Назвать жанры фильма

Попросите Милену назвать жанры фильма:

* Найди жанры Бриллиантовой руки
* Какой жанр у Криминального чтиво?
* Какие жанры у фильма Побег из Шоушенка?
* Жанр Брата

Милена назовет рейтинг фильма.

Если Милена уже рассказывает о каком-то фильме, можно задать уточняющий вопрос:
* А какой у него жанр?
* Это какой жанр?
* Найди его жанр

## Примеры диалогов
—(М) Привет, я голосовой помощник Милена.
 Если хочешь узнать что я умею делать, просто спроси меня:
 Что ты умеешь? 
 Или скажи: Помощь.
 Для завершения работы, скажи: Хватит Или Пока.
<br>— Привет
<br>—(М) привет привет
<br>— расскажи про криминальное чтиво
<br>—(М) Описание фильма Криминальное чтиво: Несколько связанных историй из жизни бандитов. 
Шедевр Квентина Тарантино, который изменил мировое кино
<br>— какой рейтинг
<br>—(М) Рейтинг фильма Криминальное чтиво: 8.9
<br>— кто его снял
<br>—(М) Режиссёр фильма Криминальное чтиво: ['Квентин Тарантино']
<br>— расскажи про брата
<br>—(М) Описание фильма Брат: Дембель Данила Багров защищает слабых в Петербурге 1990-х. Фильм, 
сделавший Сергея Бодрова народным героем
<br>— какого он жанра
<br>—(М) Жанры фильма Брат: ['Криминал', 'Драма', 'Боевик']
<br>— а у него кто режиссёр
<br>—(М) Режиссёр фильма Брат: ['Алексей Балабанов']
<br>— ладно пока
<br>—(М) Будет скучно? Обращайся!
